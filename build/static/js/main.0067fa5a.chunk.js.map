{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","images/close.svg","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/AddPlacePopup.js","utils/auth.js","components/AlertPopup.js","images/success.png","images/failed.png","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logo","alt","state","userName","to","onClick","handleLogout","registerState","handleRegisterState","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","handleCardClick","type","onCardDelete","onCardLike","length","Main","style","backgroundImage","avatar","handleEditAvatarClick","handleEditProfileClick","about","handleAddPlaceClick","cards","map","item","handleSubmitDeleteClick","Footer","PopupWithForm","isOpened","onSubmit","noValidate","title","children","button","onClose","closeBtn","ImagePopup","api","address","token","this","_address","_token","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","_getResponseData","data","method","body","JSON","stringify","profileNameInput","profileJobInput","cardAvatarLinkInput","cardNameInput","cardLinkInput","id","_addLike","_removeLike","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","onChange","target","placeholder","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","Login","email","setEmail","password","setPassword","handleLogin","Register","handleRegister","ProtectedRoute","Component","component","loggedIn","AddPlacePopup","setCardName","setCardLink","onAddCard","BASE_URL","AlertPopup","App","isEditAvatarOpened","setIsEditAvatarOpened","isEditProfileOpened","setIsEditProfileOpened","isAddPlaceOpened","setIsAddPlaceOpened","isSubmitDeleteOpened","setIsSubmitDeleteOpened","isAlertPopupOpened","setIsAlertPopupOpened","selectedCard","setSelectedCard","setCurrentUserInfo","setLoggedIn","registerStatus","setRegisterStatus","setRegisterState","setUsername","history","useHistory","closeAllPopups","getUserInfo","catch","err","console","log","setCards","handleTokenCheck","jwt","push","getInitialCards","initialCards","localStorage","getItem","Provider","removeItem","exact","path","changeLikeCardStatus","newCard","newCards","c","removeCard","filter","response","auth","setItem","patchUserInfo","postNewCard","patchAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.0067fa5a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import logo from '../images/logo.svg';\nimport { Link } from 'react-router-dom';\n\nfunction Header(props) {\n    return (\n        <>\n            <header className=\"header\">\n                <img src={logo} alt=\"Логотип 'Место' \" className=\"header__logo\" />\n                {props.state && (<div className='header__nav'>\n                <span className='header__username'>{props.userName}</span>\n                    <Link className='header__link' to=\"/\" onClick={props.handleLogout}>Выйти</Link>\n                </div>)}\n                {!props.state && props.registerState && (<Link className='header__link' onClick={props.handleRegisterState} to='/sign-in'>Войти</Link>)}\n                {!props.state && !props.registerState && (<Link className='header__link' onClick={props.handleRegisterState} to='/sign-up'>Зарегистрироваться</Link>)}\n\n\n\n            </header>\n        </>\n    )\n}\nexport default Header;","import React from 'react';\nexport  const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nfunction Card(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const isOwn = props.card.owner._id === currentUser._id;\n    const cardDeleteButtonClassName = (\n        `element__trash ${isOwn ? 'element__trash' : 'element__trash_disabled'}`\n      ); \n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n    const cardLikeButtonClassName = `element__like ${isLiked ? 'element__like_active' : 'element__like_inactive'}`; \n\n    function onCardClick() {\n        props.handleCardClick(props)\n    }\n    // function onDeleteClick() {\n    //     props.handleSubmitDeleteClick(props);\n    // }\n\n    function handleLikeClick(){\n        props.onCardLike(props.card);\n    }\n\n    function handleDeleteClick(){\n        props.onCardDelete(props.card);\n    }\n    return (\n        <div className=\"element\" >\n            <img className=\"element__image\" src={props.link} alt={props.name} onClick={onCardClick} />\n            <button type=\"button\"  className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\n            <div className=\"element__info\">\n                <h2 className=\"element__place\">{props.name}</h2>\n                <div className=\"element__like-div\">\n                    <button type=\"button\" onClick={handleLikeClick} className={cardLikeButtonClassName}></button>\n                    <p className=\"element__counter\">{props.likes.length}</p>\n                </div>\n            </div>\n        </div>\n    )\n}\nexport default Card;","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nfunction Main(props) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n\n\n    return (\n        <>\n            <main className=\"main\">\n                <section className=\"profile\">\n                    <div className=\"profile__image\">\n                        <div className=\"profile__pencil\"></div>\n                        <div className=\"profile__avatar\" style={{ backgroundImage: `url(${currentUser.avatar})` }} onClick={props.handleEditAvatarClick}></div>\n                    </div>\n                    <div className=\"profile__info\">\n                        <div className=\"profile__title\">\n                            <h1 className=\"profile__name\">{currentUser.name}</h1>\n                            <button type=\"button\" className=\"profile__edit-btn\" onClick={props.handleEditProfileClick}></button>\n                        </div>\n                        <p className=\"profile__job\">{currentUser.about}</p>\n                    </div>\n                    <button type=\"button\" className=\"profile__add-btn\" onClick={props.handleAddPlaceClick}></button>\n                </section>\n                <section className=\"elements\">\n                    {props.cards.map(item => (<Card onCardDelete ={props.onCardDelete}\n                     onCardLike ={props.onCardLike} \n                     card = {item} \n                     handleSubmitDeleteClick={props.handleSubmitDeleteClick} \n                     handleCardClick={props.handleCardClick} \n                     key={item._id} \n                     {...item}/>))}\n                </section>\n            </main>\n        </>\n    )\n\n}\nexport default Main;","function Footer(props) {\n    return (\n        <>\n            <footer className=\"footer\">\n                <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n            </footer>\n        </>\n    )\n\n}\nexport default Footer;","export default __webpack_public_path__ + \"static/media/close.118074ba.svg\";","import closeBtn from '../images/close.svg';\n\nfunction PopupWithForm(props) {\n\n    return (\n        <section className={`popup popup_type_${props.name} ${props.isOpened && 'popup_opened'}`}>\n            <form onSubmit={props.onSubmit} name={`${props.name}-popup`} className=\"popup__container\" noValidate>\n                <h3 className=\"popup__heading\">{props.title}</h3>\n                {props.children}\n                <button className=\"popup__button popup__button_add\"  type=\"submit\" >{props.button}</button>\n                <button className=\"popup__button popup__button_close\" type=\"reset\" onClick={props.onClose}><img className=\"popup__close-image\"\n                    src={closeBtn} alt=\"закрыть форму\" /></button>\n            </form>\n        </section>\n    )\n}\n\nexport default PopupWithForm","import closeBtn from '../images/close.svg';\n\nfunction ImagePopup(props) {\n  return (\n    <section className={`popup popup_type_image-card ${props.card && 'popup_opened'}`}>\n      <div className=\"popup__container-image\">\n        <img className=\"popup__image\" src={props.card ? props.card.link : '#'} alt={props.card ? props.card.name : ''} />\n        <p className=\"popup__title\">{props.card ? props.card.name : ''}</p>\n        <button className=\"popup__button popup__button_close\" type=\"reset\" onClick ={props.onClose}><img className=\"popup__close-image\"\n          src={closeBtn} alt=\"закрыть форму\" /></button>\n      </div>\n    </section>\n  )\n}\nexport default ImagePopup;","class Api {\n    constructor({\n        address,\n        token\n    }) {\n        this._address = address;\n        this._token = token;\n    }\n    _getResponseData(res) {\n        if (!res.ok) {\n            return Promise.reject(`Ошибка: ${res.status}`)\n        }\n        return res.json();\n    }\n    getUserInfo() {\n        return fetch(`${this._address}/v1/cohort-19/users/me`, {\n            headers: {\n                authorization: this._token\n            }\n        })\n            .then(this._getResponseData);\n\n    }\n    getInitialCards() {\n        return fetch(`${this._address}/v1/cohort-19/cards`, {\n            headers: {\n                authorization: this._token\n            }\n        })\n            .then(this._getResponseData);\n\n    }\n\n\n    patchUserInfo(data) {\n        return fetch(`${this._address}/v1/cohort-19/users/me`, {\n            method: 'PATCH',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                name: data.profileNameInput,\n                about: data.profileJobInput\n            })\n\n        })\n            .then(this._getResponseData);\n    }\n\n    patchAvatar(data) {\n        return fetch(`${this._address}/v1/cohort-19/users/me/avatar`, {\n            method: 'PATCH',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                avatar: data.cardAvatarLinkInput\n            })\n\n        })\n            .then(this._getResponseData);\n    }\n\n    postNewCard(data) {\n        return fetch(`${this._address}/v1/cohort-19/cards`, {\n            method: 'POST',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                name: data.cardNameInput,\n                link: data.cardLinkInput\n            })\n\n        })\n            .then(this._getResponseData);\n\n    }\n    removeCard(id) {\n        return fetch(`${this._address}/v1/cohort-19/cards/${id}`, {\n            method: 'DELETE',\n            headers: {\n                authorization: this._token,\n            }\n        })\n            .then(this._getResponseData);\n    }\n    _addLike(id) {\n        return fetch(`${this._address}/v1/cohort-19/cards/likes/${id}`, {\n            method: 'PUT',\n            headers: {\n                authorization: this._token,\n            }\n        })\n            .then(this._getResponseData);\n    }\n    _removeLike(id) {\n        return fetch(`${this._address}/v1/cohort-19/cards/likes/${id}`, {\n            method: 'DELETE',\n            headers: {\n                authorization: this._token,\n            }\n        })\n            .then(this._getResponseData);\n    }\n    changeLikeCardStatus(id, state){\n        return state ? this._addLike(id) : this._removeLike(id);\n    }\n\n}\nconst api = new Api({\n    address: 'https://mesto.nomoreparties.co',\n    token: 'd641b335-afef-4975-a138-0ff6dd855c3f',\n});\nexport default api;","import PopupWithForm from './PopupWithForm';\nimport React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({ isOpened, onClose, onUpdateUser }) {\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n\n    function handleNameChange(e) {\n        setName(e.target.value);\n    }\n    function handleDescriptionChange(e) {\n        setDescription(e.target.value);\n    }\n    \n    const currentUser = React.useContext(CurrentUserContext);\n    \n    function handleSubmit(e) {\n        e.preventDefault();\n        onUpdateUser({\n            profileNameInput: name,\n            profileJobInput: description,\n        });\n \n    }\n    React.useEffect(() => {\n        setName(currentUser.name)\n        setDescription(currentUser.about)\n    }, [currentUser]);\n    return (\n        <>\n            <PopupWithForm onSubmit={handleSubmit} button='Сохранить' name='edit' title='Редактировать профиль' \n            isOpened={isOpened} onClose={onClose}>\n                <input value={name || ''}  onChange={handleNameChange}  placeholder=\"Имя\" id=\"input-name\" \n                name='profileNameInput' className=\"popup__input-item popup__input-item_el_name\" type=\"text\"\n                    required minLength=\"2\" maxLength=\"40\" />\n                <span id='input-name-error' className=\"error\"></span>\n                <input value={description || ''} onChange={handleDescriptionChange} placeholder=\"Вид деятельности\"\n                 id='job-input' name='profileJobInput' className=\"popup__input-item popup__input-item_el_job\" type=\"text\"\n                    required minLength=\"2\" maxLength=\"40\" />\n                <span id='job-input-error' className=\"error\"></span>\n            </PopupWithForm>\n        </>\n    )\n}\n\nexport default EditProfilePopup\n","import PopupWithForm from './PopupWithForm';\nimport React from 'react';\n\nfunction EditAvatarPopup({isOpened,onClose,onUpdateAvatar}) {\n    const avatarRef = React.useRef();\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        onUpdateAvatar({\n            cardAvatarLinkInput: avatarRef.current.value\n        });\n    }\n \n    return (\n        <>\n            <PopupWithForm onSubmit={handleSubmit} button='Сохранить' name='profile-image' title='Обновить аватар' isOpened={isOpened} onClose={onClose}>\n                <input ref={avatarRef} id=\"input-avatarLink\" name='cardAvatarLinkInput' className=\"popup__input-item popup__input-item_el_avatar-link\" type=\"url\"\n                    placeholder=\"https://somewebsite.com/someimage.jpg\" required />\n                <span id=\"input-avatarLink-error\" className=\"error\"></span>\n\n            </PopupWithForm>\n        </>\n    )\n}\nexport default EditAvatarPopup;","\nimport React from 'react';\n\nfunction Login(props) {\n    const [email, setEmail] = React.useState('');\n    const [password, setPassword] = React.useState('');\n\n    function handleEmailChange(e) {\n        setEmail(e.target.value);\n    }\n    function handlePasswordChange(e) {\n        setPassword(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.handleLogin({email,password});\n    }\n    return (\n        <>\n            <section className=\"auth\">\n                <form onSubmit={handleSubmit} className='auth__form'>\n                    <h3 className=\"auth__heading\">Вход</h3>\n                    <input className='auth__input auth__input_email' onChange={handleEmailChange}  value={email || ''} placeholder='Email' name='email' type='email'></input>\n                    <input className='auth__input auth__input_password' onChange={handlePasswordChange}  value={ password || '' } placeholder='Пароль' name='password' type='password'></input>\n                    <button className='auth__btn auth__btn_submit' type=\"submit\" >Войти</button>\n                </form>\n            </section>\n        </>\n\n    )\n}\nexport default Login;","\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n// import * as auth from '../utils/auth';\nfunction Register(props) {\n    const [email, setEmail] = React.useState('');\n    const [password, setPassword] = React.useState('');\n\n    function handleEmailChange(e) {\n        setEmail(e.target.value);\n    }\n    function handlePasswordChange(e) {\n        setPassword(e.target.value);\n    }\n    function handleSubmit(e){\n        e.preventDefault()\n        props.handleRegister({email,password});\n    }\n    \n\n    return (\n        <>\n            <section className=\"auth\">\n                <form onSubmit={handleSubmit} className='auth__form'>\n                    <h3 className=\"auth__heading\">Регистрация</h3>\n                    <input className='auth__input auth__input_email' onChange={handleEmailChange} \n                    value={email || ''} placeholder='Email' name='email' type='email'></input>\n                    <input className='auth__input auth__input_password' onChange={handlePasswordChange} \n                    value={password || ''} placeholder='Пароль' name='password' type='password'></input>\n                    <button className='auth__btn auth__btn_submit' type=\"submit\" >Зарегистрироваться</button>\n                    <p className='auth__text'>Уже зарегистрированы ? <Link className='auth auth__link' to='/sign-in'>Войти</Link></p>\n                </form>\n            </section>\n        </>\n    )\n}\nexport default Register;","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute; ","import PopupWithForm from './PopupWithForm';\nimport React from 'react';\nfunction AddPlacePopup(props) {\n   const [name,setCardName] = React.useState('');\n   const [link,setCardLink] = React.useState('');\n   function handleCardNameChange(e) {\n    setCardName(e.target.value);\n}\n    function HandleCardLinkChange(e) {\n    setCardLink(e.target.value);\n}\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onAddCard({\n            cardNameInput: name,\n            cardLinkInput: link\n        });\n        setCardName('')\n        setCardLink('')\n    }\n    return (\n        <>\n            <PopupWithForm onSubmit={handleSubmit} button='Сохранить' name='add-card' title='Новое место' isOpened={props.isOpened} onClose={props.onClose}>\n                <input value ={name || ''} onChange={handleCardNameChange} id=\"input-card-name\" name='cardNameInput' className=\"popup__input-item popup__input-item_el_card-name\"\n                    type=\"text\" placeholder=\"Название\" required minLength=\"2\" maxLength=\"30\" />\n                <span id=\"input-card-name-error\" className=\"error\"></span>\n                <input value = {link || ''} onChange={HandleCardLinkChange} id=\"input-link\" name='cardLinkInput' className=\"popup__input-item popup__input-item_el_card-link\" type=\"url\"\n                    placeholder=\"Ссылка на картинку\" required />\n                <span id=\"input-link-error\" className=\"error\"></span>\n            </PopupWithForm>\n        </>\n    )\n}\nexport default AddPlacePopup;","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport const register = ({ password, email }) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ password, email })\n    })\n        .then((response) => {\n            return response.json();\n        })\n\n        .catch((err) => console.log(err));\n};\nexport const authorize = ({ email, password }) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ email, password })\n    })\n        .then((response => response.json()))\n\n        .catch(err => console.log(err))\n};\n\n\nexport const checkToken = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`,\n        }\n    })\n        .then(res => res.json())\n        .then(data => data)\n        .catch(err => console.log(err))\n}\n","import closeBtn from '../images/close.svg';\nimport success from '../images/success.png';\nimport failed from '../images/failed.png'\n\nfunction AlertPopup(props) {\n\n  return (\n    <section className={`popup popup_type_alert-succes ${props.isOpened && 'popup_opened'}`}>\n      <div className='popup__container popup__container_alert'>\n        <img className=\"popup__alert_success-img\" src={props.state ? success : failed} alt='' />\n        <p className=\"popup__title popup__title_black\">{props.state ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}</p>\n        <button className=\"popup__button popup__button_close\" type=\"reset\" onClick={props.onClose}><img className=\"popup__close-image\"\n          src={closeBtn} alt=\"закрыть форму\" /></button>\n      </div>\n    </section>\n  )\n}\nexport default AlertPopup;","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React from 'react';\nimport '../App.css';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport AddPlacePopup from './AddPlacePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport * as auth from '../utils/auth';\nimport AlertPopup from './AlertPopup';\n\nfunction App() {\n    const [isEditAvatarOpened, setIsEditAvatarOpened] = React.useState(false);\n    const [isEditProfileOpened, setIsEditProfileOpened] = React.useState(false);\n    const [isAddPlaceOpened, setIsAddPlaceOpened] = React.useState(false);\n    const [isSubmitDeleteOpened, setIsSubmitDeleteOpened] = React.useState(false);\n    const [isAlertPopupOpened, setIsAlertPopupOpened] = React.useState(false)\n    const [selectedCard, setSelectedCard] = React.useState(null);\n    const [currentUser, setCurrentUserInfo] = React.useState({});\n    const [loggedIn, setLoggedIn] = React.useState(null);\n    const [registerStatus, setRegisterStatus] = React.useState(false)\n    const [registerState, setRegisterState] = React.useState(false);\n    const [userName,setUsername] = React.useState('')\n    const history = useHistory();\n    React.useEffect(() => {\n        api.getUserInfo()\n            .then((currentUser) => {\n                setCurrentUserInfo(currentUser);\n            })\n            .catch((err) => {\n                console.log(err);\n            })\n    }, []);\n\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarOpened(true);\n    }\n    function handleSetRegisterState() {\n        setRegisterState(!registerState);\n    }\n\n    function handleEditProfileClick() {\n        setIsEditProfileOpened(true);\n    }\n    function handleAddPlaceClick() {\n        setIsAddPlaceOpened(true);\n    }\n    function handleSubmitDeleteClick() {\n        setIsSubmitDeleteOpened(true);\n    }\n    function closeAllPopups() {\n        setIsEditAvatarOpened(false);\n        setIsEditProfileOpened(false);\n        setIsAddPlaceOpened(false);\n        setSelectedCard(null);\n        setIsSubmitDeleteOpened(false);\n        setIsAlertPopupOpened(false);\n    }\n\n    function handleCardClick(card) {\n        setSelectedCard(card);\n    }\n    function handleUpdateUser(data) {\n        api.patchUserInfo(data)\n            .then((currentUser) => {\n                setCurrentUserInfo(currentUser);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n\n    }\n    function handleUpdateAvatar(data) {\n        api.patchAvatar(data)\n            .then((currentUser) => {\n                setCurrentUserInfo(currentUser);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n    function handleAddCard(data) {\n        api.postNewCard(data)\n            .then((newCard) => {\n                setCards([newCard, ...cards]);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n    const [cards, setCards] = React.useState([]);\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n        api.changeLikeCardStatus(card._id, !isLiked)\n            .then((newCard) => {\n                const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n                setCards(newCards);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n    function handleCardDelete(card) {\n        api.removeCard(card._id)\n            .then(() => {\n                const newCards = cards.filter((c) => {\n                    return c._id !== card._id\n                })\n                setCards(newCards);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n\n    function handleRegister(data) {\n        auth.register(data)\n            .then((res) => {\n                if (res.data) {\n                    setIsAlertPopupOpened(true);\n                    setRegisterStatus(true);\n                    history.push('/sign-in');\n                    setRegisterState(false);\n                } else {\n                    setIsAlertPopupOpened(true);\n                    setRegisterStatus(false);\n                    setRegisterState(true);\n                }\n\n            })\n            .catch((err) => {\n                console.log(err);\n            })\n    }\n    function handleLogin(data) {\n        auth.authorize(data)\n            .then((res) => {\n                console.log(data)\n                if (res.token) {\n                    localStorage.setItem('jwt', res.token);\n                    setLoggedIn(true);\n                    setUsername(data.email);\n                    history.push('/');\n                    \n                } else {\n                    setLoggedIn(false);\n                    setIsAlertPopupOpened(true);\n                    setRegisterStatus(false);\n                    setRegisterState(false);\n                }\n            })\n            \n            .catch((err) => {\n                console.log(err);\n            })\n    }\n    function handleLogout() {\n        localStorage.removeItem('jwt');\n        setLoggedIn(false);\n    }\n    function handleTokenCheck(jwt) {\n        auth.checkToken(jwt)\n            .then((res) => {\n                setUsername(res.data.email)\n                if (res) {\n                    setLoggedIn(true);\n                    history.push('/');\n                }\n            })\n           \n    }\n\n\n    React.useEffect(() => {\n        api.getInitialCards()\n            .then((initialCards => {\n                setCards(initialCards);\n            }))\n\n            .catch((err) => {\n                console.log(err);\n            });\n    }, []);\n\n    React.useEffect(() => {\n        const jwt = localStorage.getItem('jwt');\n        if (jwt) {\n            handleTokenCheck(jwt);\n            \n        }\n    }, []);\n\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            <div className=\"page\">\n                <Header userName={userName} handleLogout={handleLogout} handleRegisterState={handleSetRegisterState} registerState={registerState} state={loggedIn} />\n\n                <Switch>\n                    {/* HOC - component */}\n                    <ProtectedRoute exact path='/' component={Main} loggedIn={loggedIn} cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete}\n                        handleSubmitDeleteClick={handleSubmitDeleteClick} handleCardClick={handleCardClick} handleEditAvatarClick={handleEditAvatarClick}\n                        handleAddPlaceClick={handleAddPlaceClick} handleEditProfileClick={handleEditProfileClick} />\n\n                    <Route path='/sign-up'>\n                        <Register handleRegister={handleRegister} />\n                    </Route>\n                    <Route path='/sign-in'>\n                        <Login handleLogin={handleLogin} />\n                    </Route>\n                </Switch>\n\n                <Footer />\n\n                {/* Popups components */}\n                <AlertPopup state={registerStatus} isOpened={isAlertPopupOpened} onClose={closeAllPopups} />\n                <EditProfilePopup onUpdateUser={handleUpdateUser} isOpened={isEditProfileOpened} onClose={closeAllPopups} />\n                <AddPlacePopup onAddCard={handleAddCard} isOpened={isAddPlaceOpened} onClose={closeAllPopups} />\n                <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} isOpened={isEditAvatarOpened} onClose={closeAllPopups} />\n                <PopupWithForm button='Да' name='submit' title='Вы уверены?' isOpened={isSubmitDeleteOpened} onClose={closeAllPopups} />\n                <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n            </div>\n        </CurrentUserContext.Provider>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport { BrowserRouter,HashRouter } from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter basename={process.env.PUBLIC_URL}>\n    <App/> \n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}